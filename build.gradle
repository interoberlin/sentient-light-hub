group 'berlin.intero'
version '0.3.0'

task cleanAll {
    dependsOn subprojects.collect { it.tasks.matching { it.name == 'clean' } }
}

task buildAll(type: Copy) {
    // Clean  and build all subprojects
    dependsOn subprojects.collect { it.tasks.matching { it.name == 'clean' } }
    dependsOn subprojects.collect { it.tasks.matching { it.name == "bootJar" } }

    // Collect all jar files
    from subprojects.collect { it.tasks.withType(Jar) }
    into "$buildDir/libs"
}